<?xml version='1.0' encoding='UTF-8'?>
<chapter version="5.0"
  xsi:schemaLocation="http://docbook.org/ns/docbook http://www.docbook.org/xml/5.0/xsd/docbook.xsd"
  xmlns="http://docbook.org/ns/docbook" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xl="http://www.w3.org/1999/xlink"
  xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xhtml="http://www.w3.org/1999/xhtml"
  xmlns:svg="http://www.w3.org/2000/svg" xmlns:mth="http://www.w3.org/1998/Math/MathML"
  xmlns:db="http://docbook.org/ns/docbook">
  <title>Manage data sets and data entry forms</title>
  <section xml:id="datasets">
    <title>Data sets overview</title>
    <para>All data entry in DHIS 2 is organised through the use of data sets. You can add and edit
      data sets in the <emphasis role="bold">Maintenance</emphasis> app. A data set is a collection
      of data elements grouped together for data collection and data export between instances of
      DHIS 2 (for examples from a district office local installation to a national server).</para>
    <para>You can set the data collection frequency for a data set through the period type property. </para>
    <?oxy_comment_start author="cecilia" timestamp="20160602T093849+0200" comment="For SME: Where do you perform this task in the new GUI?"?>
    <para>Which data elements to include in the data set and the frequency are set in the Add/Edit
      Data set window. In order to use a data set to collect data for a specific organisation unit
      you must assign the organisation unit to the data set, and this mechanism controls which
      organisation units that can use which data sets.</para>
    <?oxy_comment_end?>
    <?oxy_comment_start author="cecilia" timestamp="20160602T093837+0200" comment="For SME: Where do you perform this task in the new GUI?"?>
    <para>Data sets are also assigned to specific organisation units which will be allowed to enter
      data for all data elements in that data set. You can assign organisation units to a data set
      in the Data set management by clicking on the blue folder icon, the first icon under
      Operations, next to the data set you would like to modify. Alternatively you can manage
      organisation unit assignments for all data sets together in the Data set Assignment Editor
      (available in the right-side menu).</para>
    <?oxy_comment_end?>
    <table frame="all">
      <title>Data set objects in the Maintenance app</title>
      <tgroup cols="2">
        <colspec colname="c1" colnum="1" colwidth="1.0*"/>
        <colspec colname="c2" colnum="2" colwidth="1.0*"/>
        <thead>
          <row>
            <entry>
              <para>Object type</para>
            </entry>
            <entry>
              <para>Available functions</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry>
              <para>Data set</para>
            </entry>
            <entry>
              <para>Create, edit, clone, share, delete, show details and translate</para>
            </entry>
          </row>
          <row>
            <entry>
              <para/>
            </entry>
            <entry>
              <para>Create, edit, clone, share, delete, show details and translate</para>
            </entry>
          </row>
          <row>
            <entry>
              <para/>
            </entry>
            <entry>
              <para>Create, edit, clone, share, delete, show details and translate</para>
            </entry>
          </row>
          <row>
            <entry>
              <para/>
            </entry>
            <entry>
              <para>Edit and translate</para>
            </entry>
          </row>
          <row>
            <entry>
              <para/>
            </entry>
            <entry>
              <para>Move organisation units</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </section>
  <section>
    <title>Workflow</title>
    <para/>
  </section>
  <section>
    <title>Create a data set</title>
    <?oxy_comment_start author="cecilia" timestamp="20160602T142854+0200" comment="Before release: update screenshot. 
Does it add information?"?>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata width="80%" align="center"
            fileref="resources/images/datasets/dataset-management.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <?oxy_comment_end?>
    <para>A data set has several properties that must be entered when creating a new one.</para>
    <itemizedlist>
      <?oxy_comment_start author="cecilia" timestamp="20160602T150107+0200" comment="In original doc, seperate section."?>
      <title>Data set management</title>
      <?oxy_comment_end?>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160602T144013+0200" comment="For SME: How do you assign an org unit to a data set? There&apos;s not that option in the Create data set form."?>
        <para>Assign organisation units to data sets: This function will allow you to assign
          individual organisational units to a data set. Only organisation units which have been
          assigned to a data set will be allowed to enter data into the data set. </para>
        <?oxy_comment_end?>
      </listitem>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160602T150129+0200" comment="For SME: How do you add or remove sections in the new GUI?"?>
        <para>View sections: Allows you to add or remove sections to the data set as required. These
          sections do not apply to custom forms.</para>
        <?oxy_comment_end?>
      </listitem>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160602T150154+0200" comment="For SME: Where do you do this in the new GUI?"?>
        <para> Design data entry form. Refer to the section on custom data entry forms for detailed
          information of how to use this function. </para>
        <?oxy_comment_end?>
      </listitem>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160602T150202+0200" comment="For SME: Where do you do this in the new GUI?"?>
        <para> Edit compulsory data elements: This dialog will allow you to add or remove data
          elements which will be marked as compulsory during data entry. </para>
        <?oxy_comment_end?>
      </listitem>
    </itemizedlist>
    <orderedlist>
      <listitem>
        <para>Click <emphasis role="bold">Apps</emphasis> > <emphasis role="bold"
            >Maintenance</emphasis> > <emphasis role="bold">Data set</emphasis> > <emphasis
            role="bold">Data set</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Click the yellow plus
          <?oxy_comment_start author="cecilia" timestamp="20160510T112410+0200" comment="Do not refer to the FAB as an icon, according to MS Manual of Style."?>button<?oxy_comment_end?>.</para>
      </listitem>
      <listitem>
        <para>In the <emphasis role="bold">Name</emphasis>
          <?oxy_comment_start author="cecilia" timestamp="20160602T113445+0200" comment="Discuss choice of word with tech writer"?>field<?oxy_comment_end?>,
          define the precise
          <?oxy_comment_start author="cecilia" timestamp="20160602T095815+0200" comment="For SME: Does it have to be an unique name?"?>name<?oxy_comment_end?>
          of the data set.</para>
      </listitem>
      <listitem>
        <para>In the <emphasis role="bold">Short name</emphasis> field, define a short name for the
          data set.</para>
        <para>Typically, the short name is an abbreviation of the full data set name. This attribute
          is often used to display the name of the data set where space is limited.</para>
      </listitem>
      <listitem>
        <para>(Optional) In the <emphasis role="bold">Code</emphasis> field, assign a code.</para>
      </listitem>
      <listitem>
        <para>In the <emphasis role="bold">Description</emphasis> field, type a description of the
          data set.</para>
      </listitem>
      <listitem>
        <para>Enter the number of <emphasis role="bold">Expiry days</emphasis>.</para>
        <para>The number of expiry days controls for how long it should be possible to enter data
          <?oxy_comment_start author="cecilia" timestamp="20160602T113535+0200" comment="For SME: What do you mean with &quot;...enter data in data entry...&quot;?"?>in
          data entry <?oxy_comment_end?>for this data set. Expiry days refer to the number of days
          after the end date of the selected data entry period where the data entry form should be
          open for entry. After the number of days has expired, the data set will be locked for
          further entry. You can set manual exceptions to this using the lock exception
          functionality
          in<?oxy_comment_start author="cecilia" timestamp="20160602T100140+0200" comment="For SME: Where do you do this?"?>
          data administration module.<?oxy_comment_end?></para>
        <note>
          <para>To allow data entry into all possible historical time periods, set the number of
            expiry days to zero.</para>
        </note>
      </listitem>
      <listitem>
        <para>If you want it to be possible to enter data for future periods, type the number of
          periods in the <emphasis role="bold">Open future periods for data entry</emphasis>
          field.</para>
        <para>The value is the number of future periods which are available for data entry.</para>
        <example>
          <title>Open future periods for data entry</title>
          <para>For a monthly data set a value of 2 allows you to enter data for 2 months in
            advance. This is useful
            <?oxy_custom_start type="oxy_content_highlight" color="255,198,140"?>for example
            for<?oxy_custom_end?> population, target and planning data.</para>
        </example>
      </listitem>
      <listitem>
        <para>In the <emphasis role="bold">Days after period to qualify for timely
            submission</emphasis> field, type the number of days
          <?oxy_custom_start type="oxy_content_highlight" color="255,198,140"?>in
          which<?oxy_custom_end?> data can be entered to be considered
          &quot;<?oxy_comment_start author="cecilia" timestamp="20160602T110453+0200" comment="For SME: Is &quot;timely&quot; a term within DHIS 2?"?>timely<?oxy_comment_end?>.&quot;</para>
        <?oxy_comment_start author="cecilia" timestamp="20160602T105106+0200" comment="For SME: How do you do this? Where?"?>
        <para>To verify the number of timely reports submitted, go to Reports-&gt;Reporting Rate
          Summary option.</para>
        <?oxy_comment_end?>
      </listitem>
      <listitem>
        <para>Select a <emphasis role="bold">Period type</emphasis>.</para>
        <para>The period type defines the frequency of reporting for the particular data set. The
          frequency can for example be daily, quarterly or yearly.</para>
      </listitem>
      <listitem>
        <para>Select a
            <?oxy_comment_start author="cecilia" timestamp="20160602T113852+0200" comment="At next revision, add xx-ref to data element section." flag="done"?><emphasis
            role="bold">Category combination</emphasis><?oxy_comment_end?>
          t<?oxy_custom_start type="oxy_content_highlight" color="255,198,140"?>o assign it to the
          data set<?oxy_custom_end?>.</para>
      </listitem>
      <listitem>
        <para>In <emphasis role="bold">Complete notification recipients</emphasis>, select a user
          group that should receive a message when the data set is marked as complete in
          <?oxy_comment_start author="cecilia" timestamp="20160602T114632+0200" comment="For SME: Exactly what is &quot;data entry&quot;? A part of the GUI? An app?"?>data
          entry<?oxy_comment_end?>.</para>
        <para>The message is delivered through the DHIS 2 messaging system.</para>
      </listitem>
      <listitem>
        <para>If you want the user who entered the data to receive a message when the data set is
          marked as complete i<?oxy_custom_start type="oxy_content_highlight" color="255,198,140"?>n
          data entry<?oxy_custom_end?>, select <emphasis role="bold">Send notification to completing
            user</emphasis>.</para>
        <para>The message is delivered through the DHIS messaging system.</para>
      </listitem>
      <listitem>
        <para>If you want data for the data set to be
          <?oxy_comment_start author="cecilia" timestamp="20160602T115743+0200" comment="For SME: What does &quot;Approved&quot; mean?"?>Approved<?oxy_comment_end?>,
          select a <emphasis role="bold">Data approval workflow</emphasis>.</para>
        <?oxy_comment_start author="cecilia" timestamp="20160602T115809+0200" comment="At next revision, add x-ref to data approval section."?>
        <?oxy_custom_start type="oxy_content_highlight" color="255,198,140" mid="23"?>
        <para>See the
          <?oxy_comment_start author="cecilia" timestamp="20160602T115831+0200" comment="For SME: What is data approval? Name of app?"?>Data
          approval <?oxy_comment_end?>section.</para>
        <?oxy_comment_end?>
        <?oxy_custom_end mid="23"?>
      </listitem>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160602T122040+0200" comment="For SME: Still applicable?"?>
        <para>Enable for Java mobile client: Sets whether or not the data set can be used within the
          Java mobile DHIS 2 application.</para>
        <?oxy_comment_end?>
      </listitem>
      <listitem>
        <para>If you want it to be mandatory to fill all values for a data element in
          <?oxy_custom_start type="oxy_content_highlight" color="255,198,140"?>data
          entry<?oxy_custom_end?> if one or more values have been filled, select <emphasis
            role="bold">All fields for data elements required</emphasis>.</para>
        <?oxy_custom_start type="oxy_content_highlight" color="255,255,0"?>
        <?oxy_comment_start author="cecilia" timestamp="20160602T141037+0200" comment="Original text." mid="28"?>
        <para>Defines whether it is mandatory to fill all values for a data element in data entry if
          one or more values have been filled.</para>
        <?oxy_custom_end?>
        <?oxy_comment_end mid="28"?>
        <para>This means that if the you enter one data value for a data element in an entry field
          (i.e. for a category option combination), then you must enter data for all fields
          belonging to that data element (i.e. all category option combinations).</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Complete allowed only if validation passes</emphasis>: Controls
          whether it should be possible to mark a data entry form as complete only if the validation
          of that form is successful. Default behavior is yes. If set to no, then a user cannot mark
          the form complete if validation fails.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Missing values requires comment on complete</emphasis>: Sets
          whether or not any missing values require comment to justify their absence.</para>
      </listitem>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160602T122354+0200" comment="For SME: Mandatory? What does it mean?"?>
        <para>Select a <emphasis role="bold">Legend set</emphasis>.</para>
        <?oxy_comment_end?>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Skip offline</emphasis>: Controls whether this data entry form
          should be downloaded and saved in the user&apos;s web browser. Normally you should leave
          this on no, which is the default behavior. If you have forms which are rarely used and are
          very big you can consider setting it to yes to speed up initial loading of the data entry
          module.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Data element decoration</emphasis></para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Render sections as tabs</emphasis>: For section based data
          forms, this option will allow you to render each section as a tab horizontally above the
          data set. This is useful for long data sets as it allows appropriate sections to be
          selected quickly without going through the entire form.</para>
      </listitem>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160602T141431+0200" comment="For SME: What does this option mean?"?>
        <para>Render vertically</para>
        <?oxy_comment_end?>
      </listitem>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160602T141437+0200" comment="For SME: What does this option mean?"?>
        <para>Select data elements</para>
        <?oxy_comment_end?>
      </listitem>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160602T141441+0200" comment="For SME: What does this option mean?"?>
        <para>Select indicators</para>
        <?oxy_comment_end?>
        <?oxy_custom_start type="oxy_content_highlight" color="255,255,0"?>
        <para>Indicators can also be added to data sets and will be available to be placed in custom
          data entry forms when they need to be shown along with data elements on the same data
          entry form.</para>
        <?oxy_custom_end?>
      </listitem>
      <listitem>
        <para>Click <emphasis role="bold">Save</emphasis>.</para>
      </listitem>
    </orderedlist>
    <itemizedlist>
      <?oxy_comment_start author="cecilia" timestamp="20160602T134342+0200" comment="For SME: Still applicable? Not in create data set form anymore..."?>
      <listitem>
        <para>Skip data mart aggregation: Define whether data for this data set should be skipped
          during data mart generation. You should leave this on no, which is the default behavior,
          in most situations. Can be useful if you have limited server resources and are setting up
          new experimental data sets.</para>
      </listitem>
      <?oxy_comment_end?>
    </itemizedlist>
    <para>Your data set will then be ready to be used within the <emphasis role="bold">Data
        Entry</emphasis> app for the org units that you have assigned and for periods according to
      your selected frequency (period type).</para>
    <section>
      <?oxy_comment_start author="cecilia" timestamp="20160602T144628+0200" comment="For SME: Do you create separate Data set categories? Or do you use the ones you&apos;ve created for Data elements? 
This seciton might belong to workflow section..."?>
      <title>Data set categories</title>
      <?oxy_comment_end?>
      <para>Before reading this section it is recommended to familiarize oneself with the sections
        on categories in the data element chapter. Whereas data element categories can be used for
        capturing disaggregations of data elements, data set categories are used to capture
        information which is common to an entire form.</para>
      <para>To set up categories for data set, start by creating category options, categories and
        category combinations like described in the data element chapter. Make sure that you set the
        type of categories and category combinations to &quot;Attribute&quot;. To assign a category
        combination to a data set, you can select it while creating or updating the data set from
        the &quot;Combination of categories&quot; drop-down box.</para>
      <para>When a data set is linked to a category combination, those categories will be displayed
        as drop-down boxes in the data entry module. Data captured in the form will then be linked
        to the selected category options from those drop-down boxes.</para>
      <para>An scenario for when data set categories are useful is when you need to capture a data
        entry form for a implementing partner organisation and a project. In that case, start by
        creating category options and categories for all partner organisations and projects, before
        linking these in a new category combination. Then, link the category combination to the data
        set (form) for which you need to capture this information. When opening this data set in
        data entry module, the partner organisation and project categories will automatically be
        rendered as drop-down boxes, allowing you to select a specific implementing partner
        organisation and project before continuing to do data entry.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata width="80%" align="center"
              fileref="resources/images/datasets/dataset-implementing partner-project-categories.png"
            />
          </imageobject>
        </mediaobject>
      </screenshot>
    </section>
  </section>
  <section>
    <title>Edit data
      <?oxy_comment_start author="cecilia" timestamp="20160602T143531+0200" comment="For SME: Will more functionality be added to Data set section?"?>sets<?oxy_comment_end?></title>
    <orderedlist>
      <listitem>
        <para>Click <emphasis role="bold">Apps</emphasis> > <emphasis role="bold"
            >Maintenance</emphasis> > <emphasis role="bold">Data set</emphasis> > <emphasis
            role="bold">Data set</emphasis>.</para>
      </listitem>
      <?oxy_comment_start author="cecilia" timestamp="20160602T150656+0200" comment="Remove step if there&apos;s only one object type in the Data set section."?>
      <listitem>
        <para>Select the object type you want to edit, for example indicator or indicator
          group.</para>
      </listitem>
      <?oxy_comment_end?>
      <listitem>
        <para>In the list, find the object you want to modify.</para>
      </listitem>
      <listitem>
        <para>Click the options menu and select <emphasis role="bold">Edit</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Modify the options you
          <?oxy_comment_start author="cecilia" timestamp="20160510T160124+0200" comment="At next revision, add link to previous section
&quot;For details about each option, refer to section Create a data element.&quot;
At the moment, I can only do x-refs to section 1 tags.
"?>want<?oxy_comment_end?>,
          for example add or remove data elements and indicators.</para>
      </listitem>
      <listitem>
        <para>Click <emphasis role="bold">Save</emphasis>.</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>Clone data sets</title>
    <para/>
    <para>Cloning a data set can save time when you create many similar objects
      <?oxy_comment_start author="cecilia" timestamp="20160520T095319+0200" comment="Which or that? - verify"?>which<?oxy_comment_end?>
      differ in only a few details.</para>
    <orderedlist>
      <listitem>
        <para>Click <emphasis role="bold">Apps</emphasis> > <emphasis role="bold"
            >Maintenance</emphasis> > <emphasis role="bold">Data set</emphasis> > <emphasis
            role="bold">Data set</emphasis>.</para>
      </listitem>
      <?oxy_comment_start author="cecilia" timestamp="20160602T150904+0200" comment="Remove step if there&apos;s only one object type in the Data set section."?>
      <listitem>
        <para>Select the object type you want to clone.</para>
      </listitem>
      <?oxy_comment_end?>
      <listitem>
        <para>In the list, find the object you want to clone.</para>
      </listitem>
      <listitem>
        <para>Click the options menu and select <emphasis role="bold">Clone</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Modify the options you
          <?oxy_comment_start author="cecilia" timestamp="20160510T160124+0200" comment="At next revision, add link to previous section
&quot;For details about each option, refer to section Create a data element.&quot;
At the moment, I can only do x-refs to section 1 tags.
"?>want<?oxy_comment_end?>.</para>
      </listitem>
      <listitem>
        <para>Click <emphasis role="bold">Save</emphasis>.</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>Change sharing settings for data sets and other objects</title>
    <para>You can assign different rights to the data set based on user groups and user
      roles.</para>
    <orderedlist>
      <listitem>
        <para>Click <emphasis role="bold">Apps</emphasis> > <emphasis role="bold"
            >Maintenance</emphasis> > <emphasis role="bold">Data set</emphasis> > <emphasis
            role="bold">Data set</emphasis>.</para>
      </listitem>
      <?oxy_comment_start author="cecilia" timestamp="20160602T151214+0200" comment="Remove step if there&apos;s only one object type in the Data set section."?>
      <listitem>
        <para>Select an object type, for example indicator or indicator group.</para>
      </listitem>
      <?oxy_comment_end?>
      <listitem>
        <para>In the list, find the object you want to modify.</para>
      </listitem>
      <listitem>
        <para>Click the options menu and select <emphasis role="bold">Share</emphasis>.</para>
      </listitem>
      <listitem>
        <para>(Optional) Search for a user group and select it. The user group is added to the
          list.</para>
      </listitem>
      <listitem>
        <?oxy_comment_start author="cecilia" timestamp="20160527T113739+0200" comment="Before release, verify GUI. Options GUI will change."?>
        <para>Change the settings for the user groups you want to modify.</para>
        <?oxy_comment_end?>
        <itemizedlist>
          <listitem>
            <para><emphasis role="bold">Can view</emphasis>: Everyone in the user group can view the
              object</para>
          </listitem>
          <listitem>
            <para><emphasis role="bold">Can edit</emphasis>: Everyone in the user group can view and
              edit the object</para>
          </listitem>
        </itemizedlist>
        <para>The default setting is that everyone (<emphasis role="bold">Public access</emphasis>)
          can view and edit objects.</para>
      </listitem>
      <listitem>
        <para>Click <emphasis role="bold">Close</emphasis>.</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>Delete
      d<?oxy_comment_start author="cecilia" timestamp="20160602T143649+0200" comment="For SME: Why is the option called &quot;Delete this form&quot; in the gui? In other parts of the Maintenance app it&apos;s called &quot;Delete&quot;."?>ata
      set forms<?oxy_comment_end?></title>
    <warning>
      <?oxy_comment_start author="cecilia" timestamp="20160602T151710+0200" comment="Reword, remove passive voice."?>
      <para>Any data set which is deleted from the system is irrevocably lost. All data entry forms,
        and section forms which may have been developed will also be removed. Ensure that you have
        made a backup of your database before deleting any data set in case you need to restore it
        at some point in time.</para>
      <?oxy_comment_end?>
    </warning>
    <orderedlist>
      <listitem>
        <para>Click <emphasis role="bold">Apps</emphasis> > <emphasis role="bold"
            >Maintenance</emphasis> > <emphasis role="bold">Data set</emphasis> > <emphasis
            role="bold">Data set</emphasis>.</para>
      </listitem>
      <?oxy_comment_start author="cecilia" timestamp="20160602T151607+0200" comment="Remove step if there&apos;s only one object type in teh Data set section."?>
      <listitem>
        <para>Select the object type you want to delete.</para>
      </listitem>
      <?oxy_comment_end?>
      <listitem>
        <para>In the list, find the object you want to delete.</para>
      </listitem>
      <listitem>
        <para>Click the options menu and select <emphasis role="bold">Delete this
          form</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Click <emphasis role="bold">OK</emphasis> to confirm.</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>Display details of data sets</title>
    <orderedlist>
      <listitem>
        <para>Click <emphasis role="bold">Apps</emphasis> > <emphasis role="bold"
            >Maintenance</emphasis> > <emphasis role="bold">Data set</emphasis> > <emphasis
            role="bold">Data set</emphasis>.</para>
      </listitem>
      <?oxy_comment_start author="cecilia" timestamp="20160602T151818+0200" comment="Remove step if there&apos;s only one object type in teh Data set section."?>
      <listitem>
        <para>Select the object type you want to display, for example indicator or indicator
          group.</para>
      </listitem>
      <?oxy_comment_end?>
      <listitem>
        <para>In the list, find the object you want to view.</para>
      </listitem>
      <listitem>
        <para>To display all metadata about the selected object, click the options menu and select
            <emphasis role="bold">Show details</emphasis>.</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>Translate data sets</title>
    <para>DHIS 2 provides functionality for translations of database content like data elements,
      data element groups, indicators, indicator groups, validation rules and more. You can
      translate these elements to any number of locales. A locale represents a specific
      geographical, political, or cultural region.</para>
    <tip>
      <para>To activate a
        <?oxy_comment_start author="cecilia" timestamp="20160512T110522+0200" comment="At next revision, verify that this task is documentet and add link to correct topic."?>translation<?oxy_comment_end?>,
        go to <emphasis role="bold">Apps</emphasis> > <emphasis role="bold">Settings</emphasis> >
          <emphasis role="bold">Appearance</emphasis> and select a language.</para>
    </tip>
    <orderedlist>
      <listitem>
        <para>Click <emphasis role="bold">Apps</emphasis> > <emphasis role="bold"
            >Maintenance</emphasis> > <emphasis role="bold">Data set</emphasis> > <emphasis
            role="bold">Data set</emphasis>.</para>
      </listitem>
      <?oxy_comment_start author="cecilia" timestamp="20160602T152045+0200" comment="Remove step if there&apos;s only one object type in teh Data set section."?>
      <listitem>
        <para>Select the object type you want to translate, for example indicator or indicator
          group.</para>
      </listitem>
      <?oxy_comment_end?>
      <listitem>
        <para>In the list, find the object you want to translate.</para>
      </listitem>
      <listitem>
        <para>Click the
          <?oxy_comment_start author="cecilia" timestamp="20160510T145509+0200" comment="Change name to Options, instead of actions."?>options<?oxy_comment_end?>
          menu and select <emphasis role="bold">Translate</emphasis>.</para>
      </listitem>
      <listitem>
        <para>Select a locale.</para>
      </listitem>
      <listitem>
        <para>Enter the
          <?oxy_comment_start author="cecilia" timestamp="20160527T122524+0200" comment="The required or required? Verify"?>required<?oxy_comment_end?>
          information.</para>
      </listitem>
      <listitem>
        <para>Click <emphasis role="bold">Close</emphasis>.</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>Download data sets in PDF format</title>
    <para>You can download a
      <?oxy_comment_start author="cecilia" timestamp="20160602T152623+0200" comment="For SME: Exactly what do you download? Data set? A data form? Compare with the original text."?>data
      set/a data<?oxy_comment_end?> form in PDF format for offline data entry.</para>
    <?oxy_custom_start type="oxy_content_highlight" color="255,255,0"?>
    <?oxy_comment_start author="cecilia" timestamp="20160602T152645+0200" comment="Original text" mid="54"?>
    <para>Get PDF for Data Entry: Download a PDF file which can be used for offline data
      entry.</para>
    <?oxy_custom_end?>
    <?oxy_comment_end mid="54"?>
    <orderedlist>
      <listitem>
        <para>Click <emphasis role="bold">Apps</emphasis> > <emphasis role="bold"
            >Maintenance</emphasis> > <emphasis role="bold">Data set</emphasis> > <emphasis
            role="bold">Data set</emphasis>.</para>
      </listitem>
      <?oxy_comment_start author="cecilia" timestamp="20160602T152045+0200" comment="Remove step if there&apos;s only one object type in teh Data set section."?>
      <listitem>
        <para>Select the object type you want to translate, for example indicator or indicator
          group.</para>
      </listitem>
      <?oxy_comment_end?>
      <listitem>
        <para>In the list, find the object you want to translate.</para>
      </listitem>
      <listitem>
        <para>Click the options menu and select <emphasis role="bold"
            ><?oxy_comment_start author="cecilia" timestamp="20160602T152417+0200" comment="For SME: Change to &quot;Download PDF&quot; as in the analysis apps? "?>Get
            PDF for data entry<?oxy_comment_end?></emphasis>.</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>Data entry forms</title>
    <para>Once you have assigned a data set to an organisation unit that data set will be made
      available in Data Entry for the organisation units you have assigned it to. A default data
      entry form will then be shown, which is simply a list of the data elements belonging to the
      data set together with a column for inputting the values. If your data set contains data
      elements with a non-default category combination, such as age groups or gender then additional
      columns will be automatically generated in the default form based on the different
      options/dimensions. </para>
    <para>If you use more than one data element category combination you will get multiple columns
      in the data entry form with different column headings for the options. In addition to the
      default list-based data entry form there are two more alternatives, the section-based form and
      the custom form.</para>
    <section>
      <title>Section forms</title>
      <para>Section forms allow for a bit more flexibility when it comes to using tabular forms and
        are quick and simple to design. Often your data entry form will need multiple tables with
        subheadings, and sometimes you need to disable (grey out) a few fields in the table, both of
        these functions are supported in section forms. This function can be accessed by choosing
        selecting the data set and choosing the &quot;View sections&quot; option from the context
        menu.</para>
    </section>
    <section xml:id="dataSetSection">
      <title>Adding a new section form</title>
      <para>Section forms are separated automatically by data element category combinations, which
        produce a spreadsheet like data entry form for each section. </para>
      <para>When designing a section form the procedure is as follows:</para>
      <orderedlist>
        <listitem>
          <para> Set up your data set as described in <xref linkend="datasets"/></para>
        </listitem>
        <listitem>
          <para>Open the Data Set Section window by selecting your data set followed by the
            &quot;View sections&quot; option from the context menu. To add a new section to a
            section form choose the specific category combo and press &quot;Add new&quot;. You can
            now add data elements from the &quot;Available data element&quot; list on the left to
            the &quot;Selected data elements&quot; list on the right. Data elements can be sorted
            within the section with the use of the &quot;Move up&quot; 
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="resources/images/dhis2_images/move_up.png"/>
              </imageobject>
            </inlinemediaobject> and &quot;Move down&quot;
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="resources/images/dhis2_images/move_down.png"/>
              </imageobject>
            </inlinemediaobject> buttons. Be
            sure to press &quot;Save&quot; once you have finished.<note>
              <para>You can only use one data element category combination per section. </para>
            </note></para>
        </listitem>
        <listitem>
          <para> You may need to control how the data element sections are displayed on the final
            form. In the Data set Section management, leave [All] in the &quot;Select Category
            Combo&quot; drop-down. Click on &quot;Sort section&quot; to sort the order of appearance
            of your sections in the data entry form.</para>
        </listitem>
        <listitem>
          <para>In Data Entry you can now start using the Section form (which will appear
            automatically when sections are available for the selected data set). Data sets which
            have section forms will automatically display the section form.</para>
        </listitem>
        <listitem>
          <para>Certain data elements may need to be disabled for data entry. Within Data set
            section management, choose the section which contains these data elements and select
            Section grey field management from the context window. Pressing the &quot;Disable&quot;
            button will prevent data from being entered into this specific data element/category
            option during data entry. Be sure to press &quot;Done&quot; to save your changes.</para>
          <screenshot>
            <mediaobject>
              <imageobject>
                <imagedata width="80%" align="center"
                  fileref="resources/images/datasets/sectionform_grey_field_management.png"/>
              </imageobject>
            </mediaobject>
          </screenshot>
        </listitem>
      </orderedlist>
      <para>A sample section form is displayed in the next figure. Notice how each data element
        category has been separated into a separate section, and a data entry table has been
        automatically generated by the system. Use of section forms in combination with data element
        categories can drastically reduce the amount of time which is required to create data entry
        forms for data sets.</para>
      <screenshot>
        <title>Section form example</title>
        <mediaobject>
          <imageobject>
            <imagedata width="80%" align="center"
              fileref="resources/images/dhis2UserManual/section_form.png" format="PNG"/>
          </imageobject>
        </mediaobject>
      </screenshot>
    </section>
    <section xml:id="customDataEntryForm">
      <title>Custom forms</title>
      <para>When the form you want to design is to complicated for the default or section forms then
        your last option is to use a custom form. This takes more time, but gives you full
        flexibility in term of the design. DHIS 2 uses a built-in HTML editor (FcK Editor) for the
        form designer and you can either design the form in the UI or paste in your HTML directly
        (using the Source window in the editor). A complete reference for use of the editor can be
        found <link xmlns:xlink="http://www.w3.org/1999/xlink"
          xlink:href="http://docs.cksource.com/CKEditor_3.x/Users_Guide">here</link>.</para>
      <para>One of the big advantages of custom forms, is that they can be created to mimic existing
        paper aggregation forms. This makes data entry much easier for users, and should reduce the
        number of data elements which are incorrectly entered, as they are more easily identifiable
        when entering data from a paper form. </para>
      <para>Once a custom form has been added to a data set it will be available in data entry and
        used automatically. </para>
      <note>
        <para>Custom forms are preferentially displayed over section forms. If a data set has both a
          section form and a custom form, the custom form will be displayed during data entry. Users
          will not be able to select which method they wish to input data, so be sure that your
          custom form contains all data elements which may be required. However, if using a mobile
          interface, sections forms will display preferentially over custom forms; therefore both
          can be used to support data collection depending on the method of data entry. </para>
      </note>
      <para>To add a custom form design to a data set then first locate your data set in the Data
        set Management window and click on the Design data entry form from the context menu.</para>
      <para>First provide a Name for the form. There are a few important buttons in the Editor that
        you must pay special attention to. The icon with four outward arrows is the full screen mode
        on/off button, which can be very useful. The there is a Source button that shows the HTML
        code for your form. </para>
      <para>If you already have the HTML for your form then you should start by pasting it in here.
        Click on Source again to go back to preview/non-HTML mode. A blue icon under the editor
        window, &quot;Insert data elements,&quot; allows you to add data elements to the
        form.</para>
      <para>All the input fields need to have a link to a data element or indicator. To add new data
        elements to the form, double-click them from the data element/indicator box as shown below.
        You can also select a data element/indicator and press the &quot;+Insert&quot; button. You
        can switch between either data elements, totals for or indicators by pressing the respective
        buttons.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata width="50%" align="center"
              fileref="resources/images/datasets/custom_forms_data_elements1.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>You can save by clicking on the Save button, and this will not close the window. It is
        recommended to save often to ensure you do not loose your work. </para>
      <para>When you are done or want to test your form in data entry click on &lt;Save and
        close&gt;.</para>
    </section>
    <section>
      <title>Scripting in custom forms</title>
      <para>In custom data entry form you can use javascript to create dynamic behavior and
        customziations. The DHIS 2 data entry module provides a range of events which you can
        register for and use to perform actions at certain times. The events are registered on the
        document element. The jQuery event object and the data set identifier are always the first
        two arguments provided to the callback functions. The table below provides an overview of
        the events and when they are triggered.</para>
      <table frame="all">
        <title>Data entry events</title>
        <tgroup cols="3">
          <colspec colnum="1" colname="c1" colwidth="1*"/>
          <colspec colnum="2" colname="c2" colwidth="1.66*"/>
          <colspec colnum="3" colname="newCol3" colwidth="1.81*"/>
          <thead>
            <row>
              <entry>Key</entry>
              <entry>Description</entry>
              <entry>Arguments</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <para>dhis2.de.event.formLoaded</para>
              </entry>
              <entry>
                <para>Triggered after the data entry form is rendered, but before data values are
                  set in entry fields.</para>
              </entry>
              <entry>
                <para>Event | Data set ID</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>dhis2.de.event.dataValuesLoaded</para>
              </entry>
              <entry>
                <para>Triggered after data values are set in entry fields.</para>
              </entry>
              <entry>
                <para>Event | Data set ID</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>dhis2.de.event.formReady</para>
              </entry>
              <entry>
                <para>Triggered when the data entry form is completely rendered and loaded with all
                  elements.</para>
              </entry>
              <entry>
                <para>Event | Data set ID</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>dhis2.de.event.dataValueSaved</para>
              </entry>
              <entry>
                <para>Triggered when a data value is saved successfully.</para>
              </entry>
              <entry>
                <para>Event | Data set ID | Data value object</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>dhis2.de.event.completed</para>
              </entry>
              <entry>
                <para>Triggered when a data set is successfully marked as complete.</para>
              </entry>
              <entry>
                <para>Event | Data set ID | Complete registration object</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>dhis2.de.event.uncompleted</para>
              </entry>
              <entry>
                <para>Triggered when a data set is successfully marked as incomplete.</para>
              </entry>
              <entry>
                <para>Event | Data set ID</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>dhis2.de.event.validationSuccess</para>
              </entry>
              <entry>
                <para>Triggered when validation is done and there were no violations.</para>
              </entry>
              <entry>
                <para>Event | Data set ID</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>dhis2.de.event.validationError</para>
              </entry>
              <entry>
                <para>Triggered when validation is done and there were one or more
                  violations.</para>
              </entry>
              <entry>
                <para>Event | Data set ID</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>dhis2.ou.event.orgUnitSelected</para>
              </entry>
              <entry>
                <para>Triggered when one or more organisation units are selected in the org unit web
                  tree.</para>
              </entry>
              <entry>
                <para>Event | Org unit IDs | Org unit names | Sub org unit IDs</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <para>To register for such an event:</para>
      <screen>&lt;script type=&quot;text/javascript&quot;&gt;

dhis2.util.on( &apos;dhis2.de.event.formReady&apos;, function( event, ds ) {
  console.log( &apos;The form with id: &apos; + ds + &apos; is loaded!&apos; );
} );

dhis2.util.on( &apos;dhis2.de.event.dataValueSaved&apos;, function( event, ds, dv ) {
  console.log( &apos;Data value: &apos; + dv.value + &apos; was saved with data element: &apos; + dv.de );
} );

dhis2.util.on( &apos;dhis2.de.event.completed&apos;, function( event, ds, cr ) {
  console.log( &apos;Form was completed for org unit: &apos; + cr.ou );
} );

&lt;/script&gt;</screen>
      <para>Be careful to only use &quot;namespaced&quot; events like the ones in the example above
        and not general ones like &quot;click&quot; as the dhis2.util.on method will unregister the
        event first.</para>
      <para>If your function only applies to certain data sets you can use the supplied data set
        identifier and shortcut your function for unwanted data sets like this:</para>
      <screen>dhis2.de.on( &apos;dhis2.de.event.validationSuccess&apos;, function( event, ds ) {
  if ( $.inArray( ds, [&apos;utXOiGbEj14&apos;, &apos;Re7qzHEThSC&apos;] ) == -1 ) {
    return false;
  }
  console.log( &apos;Form with id: &apos; + ds + &apos; validated successfully!&apos; );
} );</screen>
      <para>The identifiers of the input fields in the data entry form is on the format described
        below. This format can be used to select the input fields in your script and perform actions
        on them:<screen>&lt;dataelementid&gt;-&lt;optioncomboid&gt;-val</screen></para>
      <para>Since the data set identifier is provided for all events a feasible alternative is to
        utilize the &quot;files&quot; Web API resource and keep your callback functions in a single
        file, where you let the javascript code take action based on which data set is currently
        loaded.</para>
    </section>
    <section xml:id="dataSetAssignmentEditor">
      <title>Data set assignment editor</title>
      <para>The data set assignment editor is a tool for adding and removing many data sets to
        organisation units in batch style. Start by selecting an organisation unit from the
        selection tree. In the area below the tree a grid will be displayed showing all data sets as
        columns and the child organisation units as rows.</para>
      <para>From the grid you can now assign or unassign data sets simply by clicking on of the
        corresponding icons in the grid. If you want to assign or unassign an organisation unit to
        all data sets you can check or uncheck the checkbox next to the organisation unit. Your
        changes will automatically be saved.</para>
    </section>
  </section>
</chapter>
